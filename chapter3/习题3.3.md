
## Content

### 习题 3.3
令 p = 11。考虑函数 f : 0,1^2 → Fp，其中 f(0,0) = 3，f(0,1) = 4，f(1,0) = 1 和 f(1,1) = 2。给出函数 f 的多线性扩展 f~ 的显式表达式。计算 f~(2,4) 的值。

现在考虑一个函数 f : 0,1^3 → Fp，其中 f(0,0,0) = 1，f(0,1,0) = 2，f(1,0,0) = 3，f(1,1,0) = 4，f(0,0,1) = 5，f(0,1,1) = 6，f(1,0,1) = 7，f(1,1,1) = 8。请计算 f~(2,4,6) 的值。在计算过程中进行了多少个域乘法操作？你能否“仅”使用 20 次乘法操作计算 f~(2,4,6)？提示：参考引理 3.8 进行计算。

（1）
首先，由题目可得 `f : {0,1}^2 → F_11` defined by `f(0,0) = 3`, `f(0,1) = 4`, `f(1,0) = 1`, and `f(1,1) = 2`. 
已知 multilinear extension formula:
```
~f(x1, x2) = Σ [w ∈ {0,1}^2] f(w) * χ_w(x1, x2)
```

Where χ_w is defined as:
```
χ_w(x1, x2) = Π [i = 1 to 2] (xi*wi + (1-xi)*(1-wi))
```

Let's compute `~f(x1, x2)`:

```
~f(x1, x2) = f(0,0) * χ_(0,0)(x1, x2) + f(0,1) * χ_(0,1)(x1, x2) + f(1,0) * χ_(1,0)(x1, x2) + f(1,1) * χ_(1,1)(x1, x2)

= 3 * ((1-x1)*(1-x2)) + 4 * ((1-x1)*x2) + 1 * (x1*(1-x2)) + 2 * (x1*x2)

= 3 * (1-x1)(1-x2) + 4 * (1-x1)x2 + 1 * x1(1-x2) + 2 * x1x2
```

Now, let's compute `~f(2, 4)`:
```
~f(2, 4) = 3 * (1-2)(1-4) + 4 * (1-2)*4 + 1 * 2(1-4) + 2 * 2*4

= 3 * (-1)(-3) + 4 * (-1)*4 + 1 * 2(-3) + 2 * 2*4

= 3 * 3 - 4 * 4 - 2 * 3 + 2 * 8

= 9 - 16 - 6 + 16

= 3
```
(mod 11)

（2.1）

根据多线性拉格朗日基多项式计算公式，可得到

˜f(2,4,6) = f(0,0,0) * χ⁰(2) * χ⁰(4) * χ⁰(6) + f(0,0,1) * χ⁰(2) * χ⁰(4) * χ¹(6) + f(0,1,0) * χ⁰(2) * χ¹(4) * χ⁰(6) + f(0,1,1) * χ⁰(2) * χ¹(4) * χ¹(6) + f(1,0,0) * χ¹(2) * χ⁰(4) * χ⁰(6) + f(1,0,1) * χ¹(2) * χ⁰(4) * χ¹(6) + f(1,1,0) * χ¹(2) * χ¹(4) * χ⁰(6) + f(1,1,1) * χ¹(2) * χ¹(4) * χ¹(6)
= 1 * (1-2) * (1-4) * (1-6) + 5 * (1-2) * (1-4) * 6 + 2 * (1-2) * 4 * (1-6) + 6 * (1-2) * 4 * 6 + 3 * 2 * (1-4) * (1-6) + 7 * 2 * (1-4) * 6 + 4 * 2 * 4 * (1-6) + 8 * 2 * 4 * 6
= 1 * (-1) * (-3) * (-5) + 5 * (-1) * (-3) * 6 + 2 * (-1) * 4 * (-5) + 6 * (-1) * 4 * 6 + 3 * 2 * (-3) * (-5) + 7 * 2 * (-3) * 6 + 4 * 2 * 4 * (-5) + 8 * 2 * 4 * 6

= 33 （mod11）
= 0

在该过程中，域乘法次数: 每项包含3个乘法，共8项，因此共24次.

（2.2）

在2.1 的计算中，我们采用了最原始的计算方式。 接下来，我们尝试使用引理3.8的性质：将多线性多项式计算看成内积过程，并通过提前构建表，来优化计算过程。
第一步：构建表
Stage 1:

A(1)[0] = χ₀(2) = 1 - 2 = -1 (mod 11) = 10
A(1)[1] = χ₁(2) = 2

Stage 2:

A(2)[0,0] = A(1)[0] * χ₀(4) = 10 * (1 - 4) = 10 * (-3) = -30 ≡ 3 (mod 11)
A(2)[0,1] = A(1)[0] * χ₁(4) = 10 * 4 = 40 ≡ 7 (mod 11)
A(2)[1,0] = A(1)[1] * χ₀(4) = 2 * (-3) = -6 ≡ 5 (mod 11)
A(2)[1,1] = A(1)[1] * χ₁(4) = 2 * 4 = 8

Stage 3:

A(3)[0,0,0] = A(2)[0,0] * χ₀(6) = 3 * (1 - 6) = 3 * (-5) = -15 ≡ 7 (mod 11)
A(3)[0,0,1] = A(2)[0,0] * χ₁(6) = 3 * 6 = 18 ≡ 7 (mod 11)
A(3)[0,1,0] = A(2)[0,1] * χ₀(6) = 7 * (-5) = -35 ≡ 9 (mod 11)
A(3)[0,1,1] = A(2)[0,1] * χ₁(6) = 7 * 6 = 42 ≡ 9 (mod 11)
A(3)[1,0,0] = A(2)[1,0] * χ₀(6) = 5 * (-5) = -25 ≡ 8 (mod 11)
A(3)[1,0,1] = A(2)[1,0] * χ₁(6) = 5 * 6 = 30 ≡8 (mod 11)
A(3)[1,1,0] = A(2)[1,1] * χ₀(6) = 8 * (-5) = -40 ≡ 4 (mod 11)
A(3)[1,1,1] = A(2)[1,1] * χ₁(6) = 8 * 6 = 48 ≡ 4 (mod 11)

第二步：内积运算

已知： f(0,0,0) = 1，f(0,1,0) = 2，f(1,0,0) = 3，f(1,1,0) = 4，f(0,0,1) = 5，f(0,1,1) = 6，f(1,0,1) = 7，f(1,1,1) = 8
分别与对应项相乘得：

˜f(2, 4, 6) = 7*1 + 7*5 + 9*2 + 9*6 + 8*3 + 8*7 + 4*4 + 8*4
=  7 + 35 + 18 + 54 + 24 + 56 + 16 + 32
= 242 ≡ 0 (mod 11).


通过采用提前构建表，减少了域乘法计算次数：
1. 构建表12次
2. 内积乘：8次

共20次